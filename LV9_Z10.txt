#include <stdio.h>

int main() {
    int c,flag=0,i,pok;
	FILE*ulaz=fopen("index.html","r");
    if(ulaz==NULL){
        printf("Datoteka index.html ne postoji");
        return 0;
    }
    FILE*izlaz=fopen("linkovi.txt","w");
    if(izlaz==NULL)return 0;
    do{ 
        c=fgetc(ulaz);
        
        if(c=='<'){
            pok=ftell(ulaz);
            flag=0;
            while(c!=EOF){
                c=fgetc(ulaz);
                if(c=='>'){
                    flag=1;
                    break;
                }
            }
            if(flag==0) break;
            fseek(ulaz,pok,SEEK_SET);
            flag=0;
            c=fgetc(ulaz);
            if(c==EOF)break;
            if(c=='a'){
                while(c!='>'&&c!=EOF){
                    while(c!='h'){ 
                        if(c=='>'||c==EOF){flag=1;break;}
                        c=fgetc(ulaz);
                    }
                    if(flag==1)break;
                    c=fgetc(ulaz);
                    if(c=='r') c=fgetc(ulaz);
                    else continue;
                    if(c=='e') c=fgetc(ulaz);
                    else continue;
                    if(c=='f'){ 
                        c=fgetc(ulaz);//=
                        c=fgetc(ulaz);// /
                        c=fgetc(ulaz);// "
                        while(c!='"'){
                            fputc(c,izlaz);
                            //printf("%c",c);
                            c=fgetc(ulaz);
                            if(c=='"')break;
                        }
                        fputc('\n',izlaz);
                    }
                    
               }    
            }
            if(c==EOF)break;
        }
    }while(c!=EOF);
    fclose(izlaz);
    fclose(ulaz);
	return 0;
}
