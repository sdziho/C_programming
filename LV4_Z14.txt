#include <stdio.h>

int main() {
    int mat[200][200];
    int i,j,flag,visina,sirina,k,t,z;
    do{
	    printf("Unesite brojeve M i N: ");
        scanf("%d %d",&visina,&sirina);
        if(visina<=0||visina>200||sirina<=0||sirina>200) printf("Brojevi nisu u trazenom opsegu.\n");

    }while(visina<=0||visina>200||sirina<=0||sirina>200);

    printf("Unesite elemente matrice: ");
    for(i=0;i<visina;i++)
        for(j=0;j<sirina;j++) scanf("%d", &mat[i][j]);

    for(i=0;i<visina;i++){
        for(k=i+1;k<visina;k=k+1){
            flag=1;
            for(j=0;j<sirina;j++){
                if(mat[i][j]!=mat[k][j]){
                    flag=0;
                    break;
                }
            }
            //sada treba izbaciti k-ti red
            if(flag==1){
                for(t=k;t<visina-1;t++)
                    for(z=0;z<sirina;z++)
                        mat[t][z]=mat[t+1][z];
                        
                visina--;  
                k--;  
            }
        }
    }
//kolone:

    for(i=0;i<sirina;i++){
        for(k=i+1;k<sirina;k=k+1){
            flag=1;
            for(j=0;j<visina;j++){
                if(mat[j][i]!=mat[j][k]){
                    flag=0;
                    break;
                }
            }
            if(flag==1){
                for(t=k;t<sirina-1;t++)
                    for(z=0;z<visina;z++)
                        mat[z][t]=mat[z][t+1];
                        
                sirina--; 
                k--;   
            }
        }
    }
    
    //printf("%d %d\n",visina,sirina);
    printf("Nakon izbacivanja redova/kolona matrica glasi:\n");
    for(i=0;i<visina;i++){
        for(j=0;j<sirina;j++) printf("%5d", mat[i][j]);
        printf("\n");
    }
	return 0;
}
